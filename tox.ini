[tox]
envlist = py310,qa

[testenv]
deps =
    pytest
    pytest-cov
    pytest-datadir
commands =
    pip3 install torch --index-url https://download.pytorch.org/whl/cpu
    pip install -e .[test]
    pip list
    pytest --cov-report term --cov=forge

# prevent exit when error is encountered
ignore_errors = true

[testenv:qa]
deps =
    black
commands =
    black -v -l 88 --check --diff forge
# prevent exit when error is encountered
ignore_errors = true

[gh]
python =
    3.10 = py310